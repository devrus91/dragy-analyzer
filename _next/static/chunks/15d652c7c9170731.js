(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,a,t)=>{a.exports=e.r(76562)},7750,e=>{"use strict";class a{static extractIdFromUrl(e){let a=e.match(/\/leaderboards\/.+-(\d+)\/?/);return a?a[1]:null}static async fetchCarData(e){try{let a=await fetch(`https://www.godragy.com/dragy/u_user/get_CarResults?id=${e}`);if(!a.ok)throw Error(`Failed to fetch data: ${a.status} ${a.statusText}`);let t=(await a.json()).data.carResults;if(console.log(t),"string"==typeof t.graphData)try{t.graphData=JSON.parse(t.graphData)}catch(e){console.error("Error parsing graphData:",e)}if("string"==typeof t.graphData?.weatherInfo)try{t.graphData.weatherInfo=JSON.parse(t.graphData.weatherInfo)}catch(e){console.error("Error parsing weatherInfo:",e)}if("string"==typeof t.graphData?.dataInfo)try{t.graphData.dataInfo=JSON.parse(t.graphData.dataInfo)}catch(e){console.error("Error parsing dataInfo:",e)}return t}catch(e){throw Error(`Error fetching data: ${e instanceof Error?e.message:"Unknown error"}`)}}static analyzeAccelerationSpikes(e){let a=[];for(let t=0;t<e.length;t++){if(t>0){let r=e[t].time-e[t-1].time,s=Math.abs(e[t].acceleration-e[t-1].acceleration);r<.1&&s>.15&&a.push({type:"spike",time:e[t].time,value:e[t].acceleration,delta:s,message:`Sharp acceleration spike: ${s.toFixed(3)}g in ${r.toFixed(3)}s`})}if(t>0){let r=e[t].time-e[t-1].time,s=e[t-1].acceleration-e[t].acceleration;r<.1&&s>.15&&a.push({type:"drop",time:e[t].time,value:e[t].acceleration,delta:s,message:`Power drop detected: ${s.toFixed(3)}g decrease in ${r.toFixed(3)}s`})}let r=e[t].time-.5,s=e.filter(a=>a.time>=r&&a.time<=e[t].time);if(s.length>3){let r=s.reduce((e,a)=>e+a.acceleration,0)/s.length,o=s.map(e=>Math.pow(e.acceleration-r,2)),i=Math.sqrt(o.reduce((e,a)=>e+a,0)/o.length),l=Math.abs(e[t].acceleration-r);l>3*i&&i>.01&&a.push({type:"deviation",time:e[t].time,value:e[t].acceleration,message:`Unusual acceleration: ${l.toFixed(3)}g from mean (${r.toFixed(3)}g)`})}}return a}static detectGPSErrors(e){let a=[];for(let t of e.dataInfo.dataArr)t.satelliteNum<10&&a.push({time:t.time,type:"lowSatellites",value:t.satelliteNum,message:`Low satellite count: ${t.satelliteNum}`}),"DRG70"==e.modelNumber&&3!==t.fixType&&a.push({time:t.time,type:"nonRTK",value:t.fixType,message:`Non-RTK GPS fix: ${t.fixType} (RTK-fix recommended for precision)`});return a}static calculateDensityAltitude(e){return void 0!==e.daValue?e.daValue:void 0!==e.temp&&void 0!==e.pressure&&void 0!==e.humidity?(e.temp,Math.round((1-Math.pow(e.pressure/1013.25,.190284))*145366.45)):null}}e.s(["DragyService",()=>a])},52683,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(18566),s=e.i(7750);function o(){let e=(0,r.useRouter)(),[o,i]=(0,t.useState)(""),[l,n]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),m=async a=>{if(a.preventDefault(),d(""),!o.includes("/leaderboards/"))return void d("Invalid URL format. Please enter a valid Dragy leaderboard URL.");let t=s.DragyService.extractIdFromUrl(o);t?e.push(`/analysis?id=${t}`):d("Could not extract car ID from URL. Please check the URL format.")};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-white p-4 md:p-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("header",{className:"py-8 text-center",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-5xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"Dragy Analyzer"}),(0,a.jsx)("p",{className:"mt-2 text-gray-400 max-w-2xl mx-auto",children:"Deep diagnostics for drag racing: from GPS trajectory to micro-acceleration spikes"})]}),(0,a.jsx)("main",{children:(0,a.jsx)("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 md:p-8 max-w-3xl mx-auto",children:(0,a.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-300 mb-2",children:"Dragy Leaderboard URL"}),(0,a.jsx)("input",{type:"url",id:"url",value:o,onChange:e=>i(e.target.value),placeholder:"https://www.godragy.com/leaderboards/Brand/Name-123456/?rankIndex=123",className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition",required:!0}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-400",children:"Enter a valid Dragy leaderboard URL to analyze the run data"})]}),c&&(0,a.jsx)("div",{className:"p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-200",children:c}),(0,a.jsx)("button",{type:"submit",disabled:l,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 rounded-lg font-medium transition-all duration-200 disabled:opacity-50",children:l?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Analyze Run Data"})]})})}),(0,a.jsx)("footer",{className:"py-8 text-center text-gray-500 text-sm",children:(0,a.jsx)("p",{children:"Dragy Analyzer - Advanced drag racing data analysis"})})]})})}e.s(["default",()=>o])}]);