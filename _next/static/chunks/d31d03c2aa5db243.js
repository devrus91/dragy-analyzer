(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79474,(e,t,a)=>{"use strict";var r=e.r(71645).__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;a.c=function(e){return r.H.useMemoCache(e)}},932,(e,t,a)=>{"use strict";t.exports=e.r(79474)},18566,(e,t,a)=>{t.exports=e.r(76562)},7750,e=>{"use strict";class t{static extractIdFromUrl(e){let t=e.match(/\/leaderboards\/.+-(\d+)\/?/);return t?t[1]:null}static async fetchCarData(e){try{let t=await fetch(`https://www.godragy.com/dragy/u_user/get_CarResults?id=${e}`);if(!t.ok)throw Error(`Failed to fetch data: ${t.status} ${t.statusText}`);let a=(await t.json()).data.carResults;if(console.log(a),"string"==typeof a.graphData)try{a.graphData=JSON.parse(a.graphData)}catch(e){console.error("Error parsing graphData:",e)}if("string"==typeof a.graphData?.weatherInfo)try{a.graphData.weatherInfo=JSON.parse(a.graphData.weatherInfo)}catch(e){console.error("Error parsing weatherInfo:",e)}if("string"==typeof a.graphData?.dataInfo)try{a.graphData.dataInfo=JSON.parse(a.graphData.dataInfo)}catch(e){console.error("Error parsing dataInfo:",e)}return a}catch(e){throw Error(`Error fetching data: ${e instanceof Error?e.message:"Unknown error"}`)}}static analyzeAccelerationSpikes(e){let t=[];for(let a=0;a<e.length;a++){if(a>0){let r=e[a].time-e[a-1].time,s=Math.abs(e[a].acceleration-e[a-1].acceleration);r<.1&&s>.15&&t.push({type:"spike",time:e[a].time,value:e[a].acceleration,delta:s,message:`Sharp acceleration spike: ${s.toFixed(3)}g in ${r.toFixed(3)}s`})}if(a>0){let r=e[a].time-e[a-1].time,s=e[a-1].acceleration-e[a].acceleration;r<.1&&s>.15&&t.push({type:"drop",time:e[a].time,value:e[a].acceleration,delta:s,message:`Power drop detected: ${s.toFixed(3)}g decrease in ${r.toFixed(3)}s`})}let r=e[a].time-.5,s=e.filter(t=>t.time>=r&&t.time<=e[a].time);if(s.length>3){let r=s.reduce((e,t)=>e+t.acceleration,0)/s.length,o=s.map(e=>Math.pow(e.acceleration-r,2)),l=Math.sqrt(o.reduce((e,t)=>e+t,0)/o.length),i=Math.abs(e[a].acceleration-r);i>3*l&&l>.01&&t.push({type:"deviation",time:e[a].time,value:e[a].acceleration,message:`Unusual acceleration: ${i.toFixed(3)}g from mean (${r.toFixed(3)}g)`})}}return t}static detectGPSErrors(e){let t=[];for(let a of e.dataInfo.dataArr)a.satelliteNum<10&&t.push({time:a.time,type:"lowSatellites",value:a.satelliteNum,message:`Low satellite count: ${a.satelliteNum}`}),"DRG70"==e.modelNumber&&3!==a.fixType&&t.push({time:a.time,type:"nonRTK",value:a.fixType,message:`Non-RTK GPS fix: ${a.fixType} (RTK-fix recommended for precision)`});return t}static calculateDensityAltitude(e){return void 0!==e.daValue?e.daValue:void 0!==e.temp&&void 0!==e.pressure&&void 0!==e.humidity?(e.temp,Math.round((1-Math.pow(e.pressure/1013.25,.190284))*145366.45)):null}}e.s(["DragyService",()=>t])},52683,e=>{"use strict";var t=e.i(43476),a=e.i(932),r=e.i(71645),s=e.i(18566),o=e.i(7750);function l(){let e,l,i,c,n,d,m,u,h,p,g,x,f,y=(0,a.c)(26),b=(0,s.useRouter)(),[v,w]=(0,r.useState)(""),[N]=(0,r.useState)(!1),[D,S]=(0,r.useState)("");y[0]!==b||y[1]!==v?(e=async e=>{if(e.preventDefault(),S(""),!v.includes("/leaderboards/"))return void S("Invalid URL format. Please enter a valid Dragy leaderboard URL.");let t=o.DragyService.extractIdFromUrl(v);t?b.push(`/analysis?id=${t}`):S("Could not extract car ID from URL. Please check the URL format.")},y[0]=b,y[1]=v,y[2]=e):e=y[2];let j=e;return y[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsxs)("header",{className:"py-8 text-center",children:[(0,t.jsx)("h1",{className:"text-3xl md:text-5xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"Dragy Analyzer"}),(0,t.jsx)("p",{className:"mt-2 text-gray-400 max-w-2xl mx-auto",children:"Deep diagnostics for drag racing: from GPS trajectory to micro-acceleration spikes"})]}),y[3]=l):l=y[3],y[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-300 mb-2",children:"Dragy Leaderboard URL"}),y[4]=i):i=y[4],y[5]===Symbol.for("react.memo_cache_sentinel")?(c=e=>w(e.target.value),y[5]=c):c=y[5],y[6]!==v?(n=(0,t.jsx)("input",{type:"url",id:"url",value:v,onChange:c,placeholder:"https://www.godragy.com/leaderboards/Brand/Name-123456/?rankIndex=123",className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition",required:!0}),y[6]=v,y[7]=n):n=y[7],y[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-400",children:"Enter a valid Dragy leaderboard URL to analyze the run data"}),y[8]=d):d=y[8],y[9]!==n?(m=(0,t.jsxs)("div",{children:[i,n,d]}),y[9]=n,y[10]=m):m=y[10],y[11]!==D?(u=D&&(0,t.jsx)("div",{className:"p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-200",children:D}),y[11]=D,y[12]=u):u=y[12],y[13]!==N?(h=N?(0,t.jsxs)("span",{className:"flex items-center justify-center",children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Analyze Run Data",y[13]=N,y[14]=h):h=y[14],y[15]!==N||y[16]!==h?(p=(0,t.jsx)("button",{type:"submit",disabled:N,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 rounded-lg font-medium transition-all duration-200 disabled:opacity-50",children:h}),y[15]=N,y[16]=h,y[17]=p):p=y[17],y[18]!==j||y[19]!==m||y[20]!==u||y[21]!==p?(g=(0,t.jsx)("main",{children:(0,t.jsx)("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 md:p-8 max-w-3xl mx-auto",children:(0,t.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[m,u,p]})})}),y[18]=j,y[19]=m,y[20]=u,y[21]=p,y[22]=g):g=y[22],y[23]===Symbol.for("react.memo_cache_sentinel")?(x=(0,t.jsx)("footer",{className:"py-8 text-center text-gray-500 text-sm",children:(0,t.jsx)("p",{children:"Dragy Analyzer - Advanced drag racing data analysis"})}),y[23]=x):x=y[23],y[24]!==g?(f=(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-white p-4 md:p-8",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[l,g,x]})}),y[24]=g,y[25]=f):f=y[25],f}e.s(["default",()=>l])}]);