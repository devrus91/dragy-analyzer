(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79474,(e,a,t)=>{"use strict";var r=e.r(71645).__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;t.c=function(e){return r.H.useMemoCache(e)}},932,(e,a,t)=>{"use strict";a.exports=e.r(79474)},18566,(e,a,t)=>{a.exports=e.r(76562)},7750,e=>{"use strict";class a{static extractIdFromUrl(e){let a=e.match(/\/leaderboards\/.+-(\d+)\/?/);return a?a[1]:null}static async fetchCarData(e){try{let a=await fetch(`https://www.godragy.com/dragy/u_user/get_CarResults?id=${e}`);if(!a.ok)throw Error(`Failed to fetch data: ${a.status} ${a.statusText}`);let t=(await a.json()).data.carResults;if(console.log(t),"string"==typeof t.graphData)try{t.graphData=JSON.parse(t.graphData)}catch(e){console.error("Error parsing graphData:",e)}if("string"==typeof t.graphData?.weatherInfo)try{t.graphData.weatherInfo=JSON.parse(t.graphData.weatherInfo)}catch(e){console.error("Error parsing weatherInfo:",e)}if("string"==typeof t.graphData?.dataInfo)try{t.graphData.dataInfo=JSON.parse(t.graphData.dataInfo)}catch(e){console.error("Error parsing dataInfo:",e)}return t}catch(e){throw Error(`Error fetching data: ${e instanceof Error?e.message:"Unknown error"}`)}}static analyzeAccelerationSpikes(e){let a=[];for(let t=0;t<e.length;t++){if(t>0){let r=e[t].time-e[t-1].time,s=Math.abs(e[t].acceleration-e[t-1].acceleration);r<.1&&s>.15&&a.push({type:"spike",time:e[t].time,value:e[t].acceleration,delta:s,message:`Sharp acceleration spike: ${s.toFixed(3)}g in ${r.toFixed(3)}s`})}if(t>0){let r=e[t].time-e[t-1].time,s=e[t-1].acceleration-e[t].acceleration;r<.1&&s>.15&&a.push({type:"drop",time:e[t].time,value:e[t].acceleration,delta:s,message:`Power drop detected: ${s.toFixed(3)}g decrease in ${r.toFixed(3)}s`})}let r=e[t].time-.5,s=e.filter(a=>a.time>=r&&a.time<=e[t].time);if(s.length>3){let r=s.reduce((e,a)=>e+a.acceleration,0)/s.length,l=s.map(e=>Math.pow(e.acceleration-r,2)),i=Math.sqrt(l.reduce((e,a)=>e+a,0)/l.length),n=Math.abs(e[t].acceleration-r);n>3*i&&i>.01&&a.push({type:"deviation",time:e[t].time,value:e[t].acceleration,message:`Unusual acceleration: ${n.toFixed(3)}g from mean (${r.toFixed(3)}g)`})}}return a}static detectGPSErrors(e){let a=[];for(let t of e.dataInfo.dataArr)t.satelliteNum<10&&a.push({time:t.time,type:"lowSatellites",value:t.satelliteNum,message:`Low satellite count: ${t.satelliteNum}`}),"DRG70"==e.modelNumber&&3!==t.fixType&&a.push({time:t.time,type:"nonRTK",value:t.fixType,message:`Non-RTK GPS fix: ${t.fixType} (RTK-fix recommended for precision)`});return a}static calculateDensityAltitude(e){return void 0!==e.daValue?e.daValue:void 0!==e.temp&&void 0!==e.pressure&&void 0!==e.humidity?(e.temp,Math.round((1-Math.pow(e.pressure/1013.25,.190284))*145366.45)):null}}e.s(["DragyService",()=>a])},41644,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(18566),s=e.i(7750),l=e.i(932);function i(e){let t,r,s,i,o,m,x,h,g,p=(0,l.c)(19),{detailData:u}=e;if(p[0]!==u){m=Symbol.for("react.early_return_sentinel");e:{let e=u.filter(d).sort(c);if(0===e.length){let e;p[7]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:"h-32 flex items-center justify-center bg-gray-900/50 rounded-lg",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No segment timing data available"})}),p[7]=e):e=p[7],m=e;break e}o="overflow-x-auto",s="min-w-full divide-y divide-gray-700",p[8]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Segment"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Time (s)"})]})}),p[8]=i):i=p[8],t="divide-y divide-gray-800",r=e.map(n)}p[0]=u,p[1]=t,p[2]=r,p[3]=s,p[4]=i,p[5]=o,p[6]=m}else t=p[1],r=p[2],s=p[3],i=p[4],o=p[5],m=p[6];return m!==Symbol.for("react.early_return_sentinel")?m:(p[9]!==t||p[10]!==r?(x=(0,a.jsx)("tbody",{className:t,children:r}),p[9]=t,p[10]=r,p[11]=x):x=p[11],p[12]!==s||p[13]!==i||p[14]!==x?(h=(0,a.jsxs)("table",{className:s,children:[i,x]}),p[12]=s,p[13]=i,p[14]=x,p[15]=h):h=p[15],p[16]!==o||p[17]!==h?(g=(0,a.jsx)("div",{className:o,children:h}),p[16]=o,p[17]=h,p[18]=g):g=p[18],g)}function n(e,t){return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-white",children:e.name}),(0,a.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-300",children:[e.time?.toFixed(3)||"N/A","s"]})]},t)}function c(e,a){return parseInt(e.name.split("-")[1])-parseInt(a.name.split("-")[1])}function d(e){return e.name&&e.name.startsWith("100-")}function o(){let l,n=(0,r.useSearchParams)().get("id"),[c,d]=(0,t.useState)(!1),[o,m]=(0,t.useState)(""),[x,h]=(0,t.useState)(null),[g,p]=(0,t.useState)([]),[u,y]=(0,t.useState)([]),[f,b]=(0,t.useState)(null),[j,N]=(0,t.useState)(null);return((0,t.useEffect)(()=>{(async()=>{let a=await e.A(26743);b(()=>a.AccelerationChart);let t=await e.A(27390);N(()=>t.RouteMap)})()},[]),(0,t.useEffect)(()=>{n?(async()=>{d(!0),m("");try{let e=await s.DragyService.fetchCarData(n);if(h(e),console.log("AnalysisData",e),e.graphData&&e.graphData.dataInfo){let a=s.DragyService.analyzeAccelerationSpikes(e.graphData.dataInfo.dataArr);p(a);let t=s.DragyService.detectGPSErrors(e.graphData);y(t)}}catch(e){m(e instanceof Error?e.message:"An unknown error occurred")}finally{d(!1)}})():m("No car ID provided")},[n]),n)?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-brfrom-gray-900 to-black text-white p-4 md:p-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("header",{className:"py-8 text-center",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-5xl font-bold bg-gradient-to-rfrom-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"Dragy Analyzer"}),(0,a.jsx)("p",{className:"mt-2 text-gray-400 max-w-2xl mx-auto",children:"Deep diagnostics for drag racing: from GPS trajectory to micro-accelerationspikes"})]}),c&&(0,a.jsx)("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xlp-6 md:p-8 max-w-3xl mx-auto",children:(0,a.jsxs)("div",{className:"flexitems-center justify-center",children:[(0,a.jsxs)("svg",{className:"animate-spin h-8 w-8 text-cyan-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.1355.824 3 7.938l3-2.647z"})]}),(0,a.jsxs)("span",{className:"ml-3",children:["Analyzing data for car ID: ",n]})]})}),o&&(0,a.jsx)("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 md:p-8 max-w-3xl mx-auto",children:(0,a.jsx)("div",{className:"p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-200",children:o})}),x&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex justify-betweenitems-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Analysis Results"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("a",{href:"/",className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition",children:"Analyze Another"}),x&&(0,a.jsx)("a",{href:`https://www.godragy.com/leaderboards/${encodeURIComponent(x.brand_name)}/${encodeURIComponent(x.models)}-${n}/`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition",children:"Original Report"})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Car Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400",children:"Car ID"}),(0,a.jsx)("p",{className:"font-mono",children:n})]}),x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400",children:"Brand"}),(0,a.jsx)("p",{children:x.brand_name||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400",children:"Model"}),(0,a.jsx)("p",{children:x.models||"N/A"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-6",children:[(0,a.jsx)("h3",{className:"text-xlfont-bold mb-4",children:"AccelerationAnalysis"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h4",{className:"text-lg font-medium mb-2",children:"Acceleration Anomalies"}),g.length>0?(0,a.jsx)("div",{className:"space-y-2",children:g.map((e,t)=>(0,a.jsxs)("div",{className:`p-3 rounded-lg ${"spike"===e.type?"bg-yellow-900/30 border border-yellow-700":"drop"===e.type?"bg-orange-900/30 border border-orange-700":"bg-purple-900/30 border border-purple-700"}`,children:[(0,a.jsx)("p",{className:"spike"===e.type?"text-yellow-200":"drop"===e.type?"text-orange-200":"text-purple-200",children:e.message}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:["At ",e.time.toFixed(3),"s"]})]},t))}):(0,a.jsx)("p",{className:"text-gray-400",children:"No significant acceleration anomalies detected"})]}),x.graphData?.dataInfo?.dataArr&&x.graphData.dataInfo.dataArr.length>0&&f?(0,a.jsx)(f,{dataPoints:x.graphData.dataInfo.dataArr}):(0,a.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-900/50 rounded-lg",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No acceleration data available"})})]}),(0,a.jsxs)("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:"GPS Route & Signal Quality"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h4",{className:"text-lg font-medium mb-2",children:"GPS Signal Issues"}),u.length>0?(0,a.jsx)("div",{className:"space-y-2",children:u.map((e,t)=>(0,a.jsxs)("div",{className:"p-3 bg-red-900/30 border border-red-700 rounded-lg",children:[(0,a.jsx)("p",{className:"text-red-200",children:e.message}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:["At ",e.time.toFixed(3),"s"]})]},t))}):(0,a.jsx)("p",{className:"text-gray-400",children:"GPS signal quality appears stable throughout the run"})]}),x.graphData?.dataInfo?.dataArr&&x.graphData.dataInfo.dataArr.length>0&&j?(0,a.jsx)(j,{dataPoints:x.graphData.dataInfo.dataArr}):(0,a.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-900/50 rounded-lg",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No GPSdataavailable"})})]}),x.graphData?.dataInfo?.detail&&x.graphData.dataInfo.detail.length>0&&(0,a.jsxs)("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xlp-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Segment Timing Insights"}),(0,a.jsx)(i,{detailData:x.graphData.dataInfo.detail})]}),(0,a.jsxs)("div",{className:"bg-gray-800/50 backdrop-blur-smrounded-xl p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Weather& Conditions"}),x.graphData?.weatherInfo?.main?(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"p-4bg-gray-900/50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-gray-400",children:"Temperature"}),(0,a.jsxs)("p",{className:"text-xl",children:[x.graphData.weatherInfo.main.temp,"Â°C"]})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-900/50rounded-lg",children:[(0,a.jsx)("p",{className:"text-gray-400",children:"Humidity"}),(0,a.jsxs)("p",{className:"text-xl",children:[x.graphData.weatherInfo.main.humidity,"%"]})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-gray-400",children:"Pressure"}),(0,a.jsxs)("p",{className:"text-xl",children:[x.graphData.weatherInfo.main.pressure," hPa"]})]}),null!==(l=void 0!==x.graphData.weatherInfo.main.daValue?x.graphData.weatherInfo.main.daValue:s.DragyService.calculateDensityAltitude(x.graphData.weatherInfo.main))?(0,a.jsxs)("div",{className:"p-4 bg-gray-900/50rounded-lg",children:[(0,a.jsx)("p",{className:"text-gray-400",children:"Density Altitude"}),(0,a.jsxs)("p",{className:"text-xl",children:[l," ft"]})]}):null]}):(0,a.jsx)("div",{className:"h-32 flex items-center justify-center bg-gray-900/50 rounded-lg",children:(0,a.jsx)("p",{className:"text-gray-500",children:"Weatherinformation not available"})})]})]}),(0,a.jsx)("footer",{className:"py-8 text-center text-gray-500 text-sm",children:(0,a.jsx)("p",{children:"Dragy Analyzer - Advanced drag racing data analysis"})})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900to-blacktext-white p-4 md:p-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsx)("div",{className:"py-8 text-center",children:(0,a.jsx)("h1",{className:"text-3xl md:text-5xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"Dragy Analyzer"})}),(0,a.jsx)("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 md:p-8 max-w-3xl mx-auto",children:(0,a.jsx)("div",{className:"text-red-400 text-center",children:"No car ID provided. Please go back to the home page and enter a valid Dragy leaderboard URL."})})]})})}e.s(["default",()=>o],41644)},26743,e=>{e.v(a=>Promise.all(["static/chunks/979200a36a982479.js"].map(a=>e.l(a))).then(()=>a(86119)))},27390,e=>{e.v(a=>Promise.all(["static/chunks/3b6b4fc4cdc4a375.js","static/chunks/92775ae1698e5da0.css"].map(a=>e.l(a))).then(()=>a(21270)))}]);